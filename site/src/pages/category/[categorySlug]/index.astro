---
import Layout from '../../../layouts/Layout.astro';
import { categories } from '../../../data/categories';

export function getStaticPaths() {
  return categories.map(cat => ({
    params: { categorySlug: cat.slug },
    props: { cat },
  }));
}

const { cat } = Astro.props;
const base = import.meta.env.BASE_URL;
---

<Layout title={cat.title} description={cat.description}>
  <div class="max-w-4xl mx-auto px-4 sm:px-6 py-12">
    <!-- Breadcrumb -->
    <nav class="flex items-center gap-2 text-sm text-slate-500 mb-10">
      <a href={base} class="hover:text-white transition-colors">Home</a>
      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
      <span class="text-slate-300">{cat.title}</span>
    </nav>

    <!-- Header -->
    <div class="mb-10">
      <div class={`inline-flex w-14 h-14 rounded-2xl bg-gradient-to-br ${cat.color} items-center justify-center text-2xl mb-5 shadow-xl`}>
        {cat.emoji}
      </div>
      <h1 class="text-4xl font-extrabold text-white mb-3">{cat.title}</h1>
      <p class="text-lg text-slate-400 leading-relaxed max-w-2xl">{cat.description}</p>
      <div class="mt-4 inline-flex items-center gap-2 glass rounded-full px-4 py-1.5 text-sm text-slate-400">
        <span class="w-1.5 h-1.5 rounded-full bg-violet-400"></span>
        {cat.questions.length} questions
      </div>
    </div>

    <!-- Questions list -->
    <div class="space-y-3">
      {cat.questions.map((q, i) => (
        <a
          href={`${base}category/${cat.slug}/${q.slug}/`}
          class="group flex items-center gap-5 glass rounded-xl p-5 hover:bg-white/8 transition-all duration-200 hover:-translate-y-0.5"
        >
          <div class={`flex-shrink-0 w-9 h-9 rounded-lg bg-gradient-to-br ${cat.color} flex items-center justify-center text-sm font-bold text-white`}>
            {String(i + 1).padStart(2, '0')}
          </div>
          <p class="flex-1 text-slate-200 group-hover:text-white transition-colors font-medium leading-snug">{q.title}</p>
          <svg class="flex-shrink-0 w-4 h-4 text-slate-600 group-hover:text-violet-400 group-hover:translate-x-1 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      ))}
    </div>

    <!-- Back link -->
    <div class="mt-12 pt-8 border-t border-white/8">
      <a href={base} class="inline-flex items-center gap-2 text-slate-500 hover:text-white transition-colors text-sm">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        Back to all categories
      </a>
    </div>
  </div>
</Layout>
